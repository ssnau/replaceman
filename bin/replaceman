#!/usr/bin/env node
var program = require('commander');
var component = require('../lib/replaceman');

program
    .option('-d, --dry', 'dry run')
    .option('-c, --create', 'create replaceman.config.js sample file')
    .parse(process.argv);

var names = program.args;
if (!names.length) {
    names = ['replaceman.config.js'];
}

var name = names[0]; // 无视多余的参数
var cwd = process.cwd();
component({
    filename: name,
    dry: program.dry,
    create: program.create,
    cwd: cwd
}).catch(function(e) {
  console.log('Error!', e, e.stack);
});
